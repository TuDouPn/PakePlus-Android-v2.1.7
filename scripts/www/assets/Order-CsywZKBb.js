import{a as e,n as t,o as n,r,t as i}from"./_plugin-vue_export-helper-dCxJz2px.js";import{n as a,r as o,t as s}from"./field-BoM_Cbja.js";import{n as c,t as l}from"./style-axx0y2Fr.js";import{t as u}from"./style-BtfqK5p_.js";import{Ct as d,Et as f,T as p,U as m,V as h,Y as g,at as _,c as v,g as y,it as b,kt as x,lt as S,ot as C,pt as w,rt as T,st as E,tt as D,ut as O,vt as k,xt as A,z as j}from"./index-D-Puxli-.js";var[M,N,P]=y(`search`),F=v(O({name:M,props:m({},a,{label:String,shape:j(`square`),leftIcon:j(`search`),clearable:h,actionText:String,background:String,showAction:Boolean}),emits:[`blur`,`focus`,`clear`,`search`,`cancel`,`clickInput`,`clickLeftIcon`,`clickRightIcon`,`update:modelValue`],setup(e,{emit:t,slots:r,attrs:i}){let c=o(),l=x(),u=()=>{r.action||(t(`update:modelValue`,``),t(`cancel`))},d=n=>{n.keyCode===13&&(p(n),t(`search`,e.modelValue))},f=()=>e.id||`${c}-input`,h=()=>{if(r.label||e.label)return S(`label`,{class:N(`label`),for:f(),"data-allow-mismatch":`attribute`},[r.label?r.label():e.label])},_=()=>{if(e.showAction){let t=e.actionText||P(`cancel`);return S(`div`,{class:N(`action`),role:`button`,tabindex:0,onClick:u},[r.action?r.action():t])}},v=()=>l.value?.blur(),y=()=>l.value?.focus(),b=e=>t(`blur`,e),C=e=>t(`focus`,e),T=e=>t(`clear`,e),E=e=>t(`clickInput`,e),D=e=>t(`clickLeftIcon`,e),O=e=>t(`clickRightIcon`,e),k=Object.keys(a),A=()=>{let n=m({},i,g(e,k),{id:f()}),a=e=>t(`update:modelValue`,e);return S(s,w({ref:l,type:`search`,class:N(`field`,{"with-message":n.errorMessage}),border:!1,labelAlign:`left`,onBlur:b,onFocus:C,onClear:T,onKeypress:d,onClickInput:E,onClickLeftIcon:D,onClickRightIcon:O,"onUpdate:modelValue":a},n),g(r,[`left-icon`,`right-icon`]))};return n({focus:y,blur:v}),()=>S(`div`,{class:N({"show-action":e.showAction}),style:{background:e.background}},[r.left?.call(r),S(`div`,{class:N(`content`,e.shape)},[h(),A()]),_()])}})),I={class:`page-container`},L={class:`content`},R={key:0,class:`loading-container`},z={key:1,class:`list-container`},B=i({__name:`Order`,setup(n){let i=x(``),a=x([]),o=x(!0),s=T(()=>i.value?a.value.filter(e=>e.title.toLowerCase().includes(i.value.toLowerCase())):a.value),p=async()=>{try{let e=await t.getHotTrends();e&&e.stories&&(a.value=e.stories)}catch{}finally{o.value=!1}};return k(()=>{p()}),(t,n)=>{let a=u,p=F,m=e,h=r,g=c,v=l;return A(),E(`div`,I,[S(a,{title:`行业资讯 (知乎日报)`}),b(`div`,L,[S(p,{modelValue:i.value,"onUpdate:modelValue":n[0]||=e=>i.value=e,placeholder:`搜索资讯`},null,8,[`modelValue`]),o.value?(A(),E(`div`,R,[S(m,{type:`spinner`})])):(A(),E(`div`,z,[S(v,null,{default:f(()=>[(A(!0),E(D,null,d(s.value,(e,t)=>(A(),_(g,{key:e.id,title:e.title,label:e.hint},{"right-icon":f(()=>[e.images&&e.images.length?(A(),_(h,{key:0,width:`60`,height:`60`,src:e.images[0],fit:`cover`},null,8,[`src`])):C(``,!0)]),_:2},1032,[`title`,`label`]))),128))]),_:1})]))])])}}},[[`__scopeId`,`data-v-fcc587c8`]]);export{B as default};